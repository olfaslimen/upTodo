{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = goTo;\nexports.Goto = void 0;\nvar _service = require(\"../service\");\nvar easingPatterns = _interopRequireWildcard(require(\"./easing-patterns\"));\nvar _util = require(\"./util\");\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n  return cache;\n}\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache();\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction goTo(_target) {\n  var _settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var settings = _objectSpread({\n    container: document.scrollingElement || document.body || document.documentElement,\n    duration: 500,\n    offset: 0,\n    easing: 'easeInOutCubic',\n    appOffset: true\n  }, _settings);\n  var container = (0, _util.getContainer)(settings.container);\n  /* istanbul ignore else */\n\n  if (settings.appOffset && goTo.framework.application) {\n    var isDrawer = container.classList.contains('v-navigation-drawer');\n    var isClipped = container.classList.contains('v-navigation-drawer--clipped');\n    var _goTo$framework$appli = goTo.framework.application,\n      bar = _goTo$framework$appli.bar,\n      top = _goTo$framework$appli.top;\n    settings.offset += bar;\n    /* istanbul ignore else */\n\n    if (!isDrawer || isClipped) settings.offset += top;\n  }\n  var startTime = performance.now();\n  var targetLocation;\n  if (typeof _target === 'number') {\n    targetLocation = (0, _util.getOffset)(_target) - settings.offset;\n  } else {\n    targetLocation = (0, _util.getOffset)(_target) - (0, _util.getOffset)(container) - settings.offset;\n  }\n  var startLocation = container.scrollTop;\n  if (targetLocation === startLocation) return Promise.resolve(targetLocation);\n  var ease = typeof settings.easing === 'function' ? settings.easing : easingPatterns[settings.easing];\n  /* istanbul ignore else */\n\n  if (!ease) throw new TypeError(\"Easing function \\\"\".concat(settings.easing, \"\\\" not found.\")); // Cannot be tested properly in jsdom\n\n  /* istanbul ignore next */\n\n  return new Promise(function (resolve) {\n    return requestAnimationFrame(function step(currentTime) {\n      var timeElapsed = currentTime - startTime;\n      var progress = Math.abs(settings.duration ? Math.min(timeElapsed / settings.duration, 1) : 1);\n      container.scrollTop = Math.floor(startLocation + (targetLocation - startLocation) * ease(progress));\n      var clientHeight = container === document.body ? document.documentElement.clientHeight : container.clientHeight;\n      var reachBottom = clientHeight + container.scrollTop >= container.scrollHeight;\n      if (progress === 1 ||\n      // Need to go lower but reach bottom\n      targetLocation > container.scrollTop && reachBottom) {\n        return resolve(targetLocation);\n      }\n      requestAnimationFrame(step);\n    });\n  });\n}\ngoTo.framework = {};\ngoTo.init = function () {};\nvar Goto = /*#__PURE__*/function (_Service) {\n  _inherits(Goto, _Service);\n  var _super = _createSuper(Goto);\n  function Goto() {\n    var _this;\n    _classCallCheck(this, Goto);\n    _this = _super.call(this);\n    return _possibleConstructorReturn(_this, goTo);\n  }\n  return Goto;\n}(_service.Service);\nexports.Goto = Goto;\nGoto.property = 'goTo';","map":{"version":3,"names":["_service","require","easingPatterns","_interopRequireWildcard","_util","goTo","_target","_settings","arguments","length","undefined","settings","_objectSpread","container","document","scrollingElement","body","documentElement","duration","offset","easing","appOffset","getContainer","framework","application","isDrawer","classList","contains","isClipped","_goTo$framework$appli","bar","top","startTime","performance","now","targetLocation","getOffset","startLocation","scrollTop","Promise","resolve","ease","TypeError","concat","requestAnimationFrame","step","currentTime","timeElapsed","progress","Math","abs","min","floor","clientHeight","reachBottom","scrollHeight","init","Goto","_this","_classCallCheck","_super","call","_possibleConstructorReturn","Service","property"],"sources":["../../../src/services/goto/index.ts"],"sourcesContent":["// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as easingPatterns from './easing-patterns'\nimport {\n  getContainer,\n  getOffset,\n} from './util'\n\n// Types\nimport { GoToOptions, VuetifyGoToTarget } from 'vuetify/types/services/goto'\n\nimport { VuetifyServiceContract } from 'vuetify/types/services'\n\nexport default function goTo (\n  _target: VuetifyGoToTarget,\n  _settings: GoToOptions = {}\n): Promise<number> {\n  const settings: GoToOptions = {\n    container: (document.scrollingElement as HTMLElement | null) || document.body || document.documentElement,\n    duration: 500,\n    offset: 0,\n    easing: 'easeInOutCubic',\n    appOffset: true,\n    ..._settings,\n  }\n  const container = getContainer(settings.container)\n\n  /* istanbul ignore else */\n  if (settings.appOffset && goTo.framework.application) {\n    const isDrawer = container.classList.contains('v-navigation-drawer')\n    const isClipped = container.classList.contains('v-navigation-drawer--clipped')\n    const { bar, top } = goTo.framework.application as any\n\n    settings.offset += bar\n    /* istanbul ignore else */\n    if (!isDrawer || isClipped) settings.offset += top\n  }\n\n  const startTime = performance.now()\n\n  let targetLocation: number\n  if (typeof _target === 'number') {\n    targetLocation = getOffset(_target) - settings.offset!\n  } else {\n    targetLocation = getOffset(_target) - getOffset(container) - settings.offset!\n  }\n\n  const startLocation = container.scrollTop\n  if (targetLocation === startLocation) return Promise.resolve(targetLocation)\n\n  const ease = typeof settings.easing === 'function'\n    ? settings.easing\n    : easingPatterns[settings.easing!]\n  /* istanbul ignore else */\n  if (!ease) throw new TypeError(`Easing function \"${settings.easing}\" not found.`)\n\n  // Cannot be tested properly in jsdom\n  /* istanbul ignore next */\n  return new Promise(resolve => requestAnimationFrame(function step (currentTime: number) {\n    const timeElapsed = currentTime - startTime\n    const progress = Math.abs(settings.duration ? Math.min(timeElapsed / settings.duration, 1) : 1)\n\n    container.scrollTop = Math.floor(startLocation + (targetLocation - startLocation) * ease(progress))\n\n    const clientHeight = container === document.body ? document.documentElement.clientHeight : container.clientHeight\n    const reachBottom = clientHeight + container.scrollTop >= container.scrollHeight\n    if (\n      progress === 1 ||\n      // Need to go lower but reach bottom\n      (targetLocation > container.scrollTop && reachBottom)\n    ) {\n      return resolve(targetLocation)\n    }\n\n    requestAnimationFrame(step)\n  }))\n}\n\ngoTo.framework = {} as Record<string, VuetifyServiceContract>\ngoTo.init = () => {}\n\nexport class Goto extends Service {\n  public static property: 'goTo' = 'goTo'\n\n  constructor () {\n    super()\n\n    return goTo\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}